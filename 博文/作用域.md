### 作用域

#### javascript的编译过程
##### 代码的编译
我们以代码执行代码`` var a = 2`` 进行举例，在JavaScript的编译过程种我们划分三个角色：引擎、编译器、作用域 它们的职责分别如下：

- 引擎：负责整个Javascript程序的编译执行过程
- 编译器：负责语法分析及代码生成的脏活累活
- 作用域：负责收集并维护所有声明的标识符（变量）组成的一系列查询。确定当前执行代码对标识符的权限。

可以为``var a = 2``伪代码进行合理的概括：“为一个变量分配内存，将其命名为a，并赋值”。但实际上，编译器会进行如下处理：

1. 遇到var a ，编译器会询问作用域是否已经有一个该名称的变量在当前的作用域的集合种。如果是，编译器会忽略该声明。如果不是，编译器会在当前作用域的集合种声明一个为a的变量
2. 接下来编译器会为引擎生成运行所需代码。这些代码被用来处理 a = 2，引擎会询问作用域在当前作用域是否存在一个变量为a的变量。如果是，引擎就会使用当前变量进行赋值。如果不是，引擎会继续向下级作用域询问。知道找到变量a对其进行赋值。若最终都没找到a，编译器会报错。


